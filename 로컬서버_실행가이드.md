# 📘 로컬 서버 실행 가이드

## ⚠️ 중요: 데이터 저장 방식 선택

이 시스템은 **두 가지 데이터 저장 방식**을 지원합니다:

### 1️⃣ 구글 스프레드시트 (권장) 📊
- ✅ 실시간 클라우드 동기화
- ✅ 여러 명이 동시 사용 가능
- ✅ 데이터 안전하게 보관
- ✅ 스프레드시트에서 직접 편집 가능
- 📖 **설정 방법**: `구글스프레드시트_설정가이드.md` 참고

### 2️⃣ 로컬 JSON 파일
- 📁 로컬 컴퓨터에 저장
- 🔒 개인 사용에 적합
- ⚡ 빠른 테스트 가능
- ⚠️ 서버 종료 시 데이터 유지됨

---

## 🌐 접속 정보

- **서버 주소**: http://localhost:3000
- **데이터 저장 위치**: 
  - 구글 스프레드시트 사용 시: 구글 클라우드
  - 로컬 파일 사용 시: `/Users/joseph/Downloads/celender-main/schedules.json`
- **서버 상태**: 실행 중 ✅

---

## 📋 실행된 내용 요약

### 1. 설치된 패키지
- **express**: 웹 서버 프레임워크
- **cors**: 크로스 오리진 요청 처리

### 2. 생성된 파일
- **server.js**: 로컬 서버 실행 파일
- **schedules.json**: 스케줄 데이터 저장 파일 (자동 생성)

### 3. 서버 기능
- ✅ 스케줄 조회 (GET /api/proxy)
- ✅ 스케줄 추가/수정 (POST /api/proxy)
- ✅ 스케줄 삭제 (POST /api/proxy with action: 'delete')
- ✅ 정적 파일 제공 (HTML, CSS, JS)

---

## 🚀 사용 방법

### 서버 시작하기
```bash
cd /Users/joseph/Downloads/celender-main
npm start
```

### 서버 종료하기
터미널에서 `Ctrl + C` 키를 누르세요.

### 브라우저에서 접속
1. 웹 브라우저를 열고
2. 주소창에 `http://localhost:3000` 입력
3. 상담 스케줄 관리 화면이 나타납니다!

---

## 🎯 주요 기능 테스트 완료

### ✅ 스케줄 추가
- 상담사: 김상담
- 날짜: 2026-01-20 (화요일)
- 시간: 08:00 - 09:00
- 내담자: 홍길동
- 회기: 1회기

### ✅ 화면 표시
- 주간 캘린더 뷰에 스케줄이 정상적으로 표시됨
- 상담사 필터에 "김상담" 자동 추가됨
- 데이터가 `schedules.json` 파일에 저장됨

---

## 💾 데이터 관리

### 데이터 저장 위치
모든 스케줄 데이터는 다음 파일에 JSON 형식으로 저장됩니다:
```
/Users/joseph/Downloads/celender-main/schedules.json
```

### 데이터 백업
중요한 데이터는 정기적으로 `schedules.json` 파일을 복사하여 백업하세요.

### 데이터 초기화
서버를 종료한 후 `schedules.json` 파일을 삭제하면 다음 실행 시 빈 상태로 시작됩니다.

---

## 🔧 문제 해결

### 포트 3000이 이미 사용 중인 경우
다른 프로그램이 3000 포트를 사용 중이라면:
1. 해당 프로그램을 종료하거나
2. `server.js` 파일에서 포트 번호를 변경하세요:
   ```javascript
   const PORT = process.env.PORT || 3001; // 3001로 변경
   ```

### 서버가 시작되지 않는 경우
```bash
# 패키지 재설치
cd /Users/joseph/Downloads/celender-main
rm -rf node_modules
npm install
npm start
```

### 데이터가 저장되지 않는 경우
1. `schedules.json` 파일의 쓰기 권한 확인
2. 서버 터미널에서 오류 메시지 확인
3. 브라우저 개발자 도구(F12)의 Console 탭에서 오류 확인

---

## 📱 기능 사용법

### 스케줄 추가
1. **[스케줄 추가]** 버튼 클릭
2. 또는 빈 시간 셀을 직접 클릭
3. 양식 작성 후 **[저장]** 클릭

### 스케줄 수정
1. 등록된 스케줄 카드 클릭
2. 내용 수정 후 **[저장]** 클릭

### 스케줄 삭제
1. 스케줄 카드에서 **마우스 오른쪽 버튼** 클릭
2. 확인 팝업에서 **[확인]** 클릭

### 상담사별 필터링
- 상단의 상담사 선택 드롭다운에서 원하는 상담사 선택
- "전체 상담사"를 선택하면 모든 스케줄 표시

### 주간 이동
- 월/년도 변경: 좌우 화살표 버튼 사용
- 주 선택: 하단의 주간 버튼 클릭

---

## 🎨 화면 구성

```
┌─────────────────────────────────────────┐
│  📅 상담 스케줄 관리                      │
│  [상담사 필터] [새로고침] [스케줄 추가]    │
├─────────────────────────────────────────┤
│  [◀] 2026년 1월 [▶]                     │
├─────────────────────────────────────────┤
│  [12/29-1/4] [1/5-1/11] [1/12-1/18] ... │
├─────────────────────────────────────────┤
│  시간 │ 월   │ 화   │ 수   │ 목   │ 금  │
│  08:00│      │ 홍길동│      │      │     │
│       │      │08-09 │      │      │     │
│       │      │1회기 │      │      │     │
│       │      │김상담│      │      │     │
│  09:00│      │      │      │      │     │
│  ...  │      │      │      │      │     │
└─────────────────────────────────────────┘
```

---

## 🌟 추가 정보

### 실시간 동기화
- 10초마다 자동으로 데이터 새로고침
- 여러 브라우저 창에서 동시 사용 가능
- 변경사항이 자동으로 모든 창에 반영됨

### 브라우저 호환성
- ✅ Chrome (권장)
- ✅ Edge
- ✅ Safari
- ✅ Firefox

### 성능
- 빠른 응답 속도
- 낮은 메모리 사용량
- 안정적인 데이터 저장

---

## 📞 도움이 필요하신가요?

문제가 발생하면:
1. 서버 터미널의 로그 확인
2. 브라우저 개발자 도구(F12) Console 확인
3. `schedules.json` 파일 권한 확인

---

**🎉 즐거운 스케줄 관리 되세요!**

© 2026 상담 스케줄 관리 시스템
